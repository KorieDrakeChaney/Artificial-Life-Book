<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>More Grid Logic</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="global.css">

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="chapter-item expanded "><a href="ElementaryCellularAutomata0.html"><strong aria-hidden="true">1.</strong> Elementary Cellular Automata</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ElementaryCellularAutomata1.html"><strong aria-hidden="true">1.1.</strong> Programming Elementary Cellular Automata</a></li><li class="chapter-item expanded "><a href="ElementaryCellularAutomata2.html"><strong aria-hidden="true">1.2.</strong> Patterns</a></li></ol></li><li class="chapter-item expanded "><a href="GameOfLife0.html"><strong aria-hidden="true">2.</strong> Conway's Game of Life</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="GameOfLife1.html"><strong aria-hidden="true">2.1.</strong> Basic Grid Logic</a></li><li class="chapter-item expanded "><a href="GameOfLife2.html" class="active"><strong aria-hidden="true">2.2.</strong> More Grid Logic</a></li><li class="chapter-item expanded "><a href="GameOfLife3.html"><strong aria-hidden="true">2.3.</strong> Patterns</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="https://github.com/KorieDrakeChaney/Artificial-Life-Book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <br>
<h1 style = "text-align: center;">More Grid Logic</h1>
<hr />
<div class = "container">
<h2 class="secondary-header">Tools We Will Be Using</h2>
    <div class = "example"> 
<ul>
<li><a  href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank"><b class="reference">Arrays</b></a></li>
</ul>
<i style="color:grey;">
Be familiar with these, as we will be using them, so I do not want you to be confused later on.
</i>
    </div>
</div>
<hr />
<div class="container">
So far we have just a line of cells, nothing special. Now we need to put them where they belong, at their coordinates. In order to do that, we must use the <b>columm</b> and <b>row</b> from our <b class="keyword">for loops</b> , and put the <b>cell</b>.<b class="variable">position</b> variable to use. Let's take a step back to conceptualize this.
<br>
<br>
<video controls>
<source src="GridAnalyzer.mp4" type="video/mp4">
</video>
<p>20px just represents our cell’s size, but looking at this, we need to space each individual cell by 20px(or whatever we put our cellsize to).</p>
<br>
<br>
<video controls>
<source src="GridSpace.mp4" type="video/mp4">
</video>
<p>Now hopefully we get into a territory where lightbulbs are flashing. We can multiply <b>column</b> * <b>cellSize</b> to get our <b>x</b> value, and the same for the <b>y</b> value but replacing <b>column</b> for <b>row</b>.</p>
<div class="example">
<p>\(x = column * cellsize \)
<br></p>
<p>\(y = row * cellsize \)</p>
</div>
<p>So that <b>[column, row]</b> value we were passing into the cell can now be referenced and change used to change it’s position.</p>
<pre><code class="language-javascript">class Cell {
  constructor(state, id, position, size) {
    //earlier code

    this.body.style.left = `${this.size * position[0]}px` // for x
    this.body.style.top = `${this.size * position[1]}px` // y

</code></pre>
<p>You may be wondering why I am using <b>left</b> and <b>top</b>, instead of <b>x</b> and <b>y</b>. Well for CSS <b>left</b> and <b>top</b> are identical to what we view as <b>x</b> and <b>y</b>, as <b>left</b> just means how far right we are, and <b>top</b> is how far down we are. So exactly what we need.</p>
<br>
<p>Now if you try to run the code now, you will see the same thing and that’s because we haven’t changed it’s <a href="https://www.w3schools.com/css/css_positioning.asp" target="blank"><b class="reference">position</b></a> to <b>absolute</b> which pretty much locks into our <b>left</b> and <b>top</b> values and uses them.</p>
<pre><code class="language-javascript">class Cell {
  constructor(state, id, position, size) {

    //new code 

    this.body.style.position = 'absolute'


</code></pre>
<p>Now run and see that our cells are positioned where they should be.</p>
<p>We can add a border to see each individual cell, like <b>this</b>:</p>
<pre><code class="language-javascript">class Cell {
  constructor(state, id, position, size) {

    //new code 

    this.body.style.border = 'solid 2px black'


</code></pre>
<p><b>Result:</b> <div id="GameOfLifeExample1"></div></p>
<script>
    const body = document.getElementById("GameOfLifeExample1")
    body.style.justifyContent = "center"
    body.style.textAlign = "center"
    const element = document.createElement('div');
    body.appendChild(element);
    let tag = document.createElement('div');
    body.appendChild(tag);
    tag.innerHTML = "click a cell";
    element.style.display = 'grid';
    element.style.justifyContent = "center"
    element.style.display = 'grid'
    element.style.gridTemplateColumns = `repeat(${4} , ${20}px)`
    element.style.gridTemplateRows = `repeat(${4} , ${20}px)`
    class Cell {
    constructor(state, id, position, size) {
        this.state = state;
        this.id = id;
        this.position = position;
        this.size = size;

        this.body = document.createElement("div");
        this.body.style.backgroundColor = "red";
        this.body.style.width = `${this.size}px`
        this.body.style.height = `${this.size}px`
        this.body.style.gridColumn = `${position[0] + 1}px`
        this.body.style.gridRow = `${position[1] + 1}px`
        this.body.style.border = 'solid 2px black'

        this.body.addEventListener('click', () => { 
            tag.innerHTML = `(${this.position[0]}, ${this.position[1]})`
        })
        element.appendChild(this.body);
    }
    }

    class Grid {
    constructor(width, height) {
        this.width = width;
        this.height = height;
        this.cellSize = 20;
        for (let column = 0; column < this.width; column++) {
        for (let row = 0; row < this.height; row++) {
            let cell = new Cell(0, 0, [column, row], this.cellSize);
        }
        }
    }
    }

    new Grid(4, 4);
    ;

</script>
<p>Now I want to add an array of cells, so we can reference them later on, this will also allow us to set the id’s of each individual cell as well. First let’s create a cells array in <b class="function">Grid</b> class:</p>
<pre><code class="language-javascript">class Grid { 
    constructor(width, height){
        // stuff
        this.cells = []

        //stuff

    }
}

</code></pre>
<p>Then we can push our created cell into the array:</p>
<pre><code class="language-javascript">
for (let column = 0; column &lt; this.width; column++) {
    for (let row = 0; row &lt; this.height; row++) {
        let cell = new Cell(0, this.cells.length, [column, row], this.cellSize);
        this.cells.push(cell)
    }
}

</code></pre>
<p>Add we can use the <b class="variable">this.cells</b>.length as a reference to the cells id so we can know what index that individual cell is at. To conceptually understand where each cell is going on the grid, we can translate our coordinate world into array world.</p>
<br> 
<video controls>
<source src="GridToArray.mp4" type="video/mp4">
</video>
<p>Which to formula to translate this would be : </p>
<div class="example">
<p>\(index = (y + (x * height))\)</p>
</div>
<p>And to reverse index back into coordinates would be : </p>
<div class="example">
<p>\(x = x \mod height \)</p>
<br>
<p>\(y = Math.floor(y / height) \)</p>
</div>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="GameOfLife1.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="GameOfLife3.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="GameOfLife1.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="GameOfLife3.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>

        <script src="ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="global.js"></script>


    </body>
</html>
